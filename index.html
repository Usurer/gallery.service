<!doctype html>
<html lang="en-US">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Client</title>
</head>
<body>
    <script>

        async function ReadBinaryData() {
            fetch("http://localhost:5279/Files/GetBytes")
                .then((response) => response.body)
                .then((rb) => {
                    const reader = rb.getReader();

                    function readRecurse() {
                        reader.read().then(({ done, value }) => {
                            if (done) {
                                console.log('Response stream has ended');
                                return;
                            }

                            console.log(value);
                            readRecurse();
                        });
                    }

                    readRecurse();
                });
        }

        ReadBinaryData();
    </script>
</body>
</html>